/* ********************************************************* *\
|  Micro.js framework made by PDKnight. All rights reserved.  |
|               For more information please visit             |
|             https://github.com/PDKnight/Micro.js.           |
\* ********************************************************* */
"use strict";/*@cc_on @*/Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),s=this,r=function(){},n=function(){return s.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),n.prototype=new r,n}),"object"!=typeof window.console&&(window.console={log:function(){}}),String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0==this.indexOf(e)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return this.indexOf(e)==this.length-1-e.length}),String.prototype.escape||(String.prototype.escape=function(){return this.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),Object.keys||(Object.keys=function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(s);return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var s=t||0,r=this.length;r>s;s++)if(this[s]===e)return s;return-1});var Micro=new function(){this.e,this.version="1.2.5";var d=document,sel=function(e,t){return t?d.querySelectorAll(e):d.querySelector(e)},NO_XHR_MSG,XHR_FAILED_MSG,c=sel("*",!0),cs=[],p;for(p=0;p<c.length;p++)c[p].hasAttribute("m-enable")&&cs.push(c[p]);if(cs.length>1)throw new Error("Please use only one element with 'm-enable' attribute!");1==cs.length&&(this.e=cs[0]),NO_XHR_MSG="Error: Your browser can't create an AJAX request. ",XHR_FAILED_MSG="Error: The AJAX failed. Check your console for more information. ";var createXHR=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject){if("string"!=typeof arguments.callee.activeXString)for(var e=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"],t=0,s=e.length;s>t;t++)try{var r=new ActiveXObject(e[t]);return arguments.callee.activeXString=e[t],r}catch(n){}return new ActiveXObject(arguments.callee.activeXString)}err(NO_XHR_MSG)},getResponse=function(e,t,s,r){var n=createXHR(s),i="undefined"==typeof r?!0:r;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){var r=n.responseText;if("undefined"==typeof t)return r;t(r,e)}else s(XHR_FAILED_MSG+"  [status:"+n.status+"]")}.bind(this),n.open("get",e,i),n.send(null)}.bind(this),Core=function(){var e;this.CSSprops=["all","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-shadow","text-shadow","caption-side","clear","clip","color","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","float","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","orphans","outline","outline-color","outline-style","outline-width","overflow","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","position","quotes","right","table-layout","text-align","text-decoration","text-indent","text-transform","top","transform","transform-origin","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-spacing","z-index"],this.C={createElement:function(e){return d.createElement(e)}.bind(this),arrToEl:function(e,t){return el=this.createElement(e[0].replace(/\s+$/,"")),el.innerHTML=e[2],el.innerHTML=el.innerHTML.replace(/(^\n|\n$)/gm,""),t?el.outerHTML:el},error:function(e,t,s){s.innerHTML="Error at line "+e+": "+t}.bind(this)},this.R={ln:1,lns:[],tagRe:/^\s*[a-zA-Z0-9-]+[\s\n]*$/,properties:{remove_spaces_at_start:"on",console_output:"off"},togglable:["remove_spaces_at_start","console_output"],isTogglable:function(e){if("number"!=typeof e)return!1;var t=Object.keys(this.properties);return 0>e||e>=t.length?!1:this.togglable.indexOf(t[e])>-1},check:function(e){var t=this.isTogglable(e);if("number"!=typeof e)return t?!1:"";var s=Object.keys(this.properties);if(0>e||e>=s.length)return!1;var r=this.properties[s[e]];return t?"on"==r||"true"==r:r},gl:function(){return this.R.lns[this.R.ln-1]}.bind(this),lnl:function(){return this.lns.length},hasNext:function(){return this.ln-1<this.lnl()},lineToElement:function(e){var t=this.gl(!0).replace(/\s+[\s\S]*/,"");return console.log(t),e?C.createElement(t):t},read:function(t,s,r){if(0==t.length)return[[1,"text",""]];this.R.lns=t.split(/\n/);var n,i,o,l,h,a="";for(this.R.check(1)&&r&&console.log("Version:",r);this.R.hasNext();){if(n=this.R.gl(),/^@.+/.test(n)){var c=/^@import\s+([^\s\n]+)\s*$/,p=/^@title\s+(.+)\s*$/;if(c.test(n)){var g=n.match(c)[1];if(!/.+(.css|.js)$/.test(g))return void s("Please import only .css or .js file(s).",this.R.ln);this.A.responses[g.indexOf(".css")==g.length-4?"styles":"scripts"].push(g),this.R.ln++;continue}if(p.test(n)){var f=n.match(p)[1];document.title&&(document.title=f),this.R.ln++;continue}if(/^@[^:]+:\s*.+/.test(n)){if(o=n.split(/:\s*/),l=o[0].replace(/^@/,""),!this.R.properties.hasOwnProperty(l))return void s("Unknown property: "+l+".",this.R.ln);h=o[1].replace(/\s+$/,""),this.R.properties[l]=h,this.R.ln++;continue}}for(this.A.arr.length>0&&this.A.tag_level>0&&this.R.check(0)&&(n=n.replace(/^(\t| {4})/,"")),(0==n.length||13!=n.charCodeAt(n.length-1))&&(n+=this.R.ln!=this.R.lns.length?String.fromCharCode(13):this.A.brackets.started()?String.fromCharCode(10):""),e=0;e<n.length&&(i=n[e],"#"!=i||this.A.brackets.started());e++){var d="%c- "+this.R.ln+", '"+i+"', "+i.charCodeAt(0),u=this.A.arr;if(u.length>0&&("("==i&&0==this.A.brackets.level||")"==i&&1==this.A.brackets.level||this.A.brackets.started())||0==u.length&&this.R.tagRe.test(a)&&"("==i){a&&!this.A.brackets.started()&&(this.A.New(["text",a]),a="");var b,k,A="";for(b=u.length-1;b>=0;b--)if(k=u[b],"text"==k[1]){if(this.R.tagRe.test(k[2])){A=k[2];break}if(!/^\s*$/.test(k[2]))break}if(A){this.A.brackets.started()?")"==i||e==n.length-1&&this.R.ln==this.R.lns.length?(this.A.brackets.level--,!this.A.brackets.level||e==n.length-1&&this.R.ln==this.R.lns.length?(this.A.brackets.state=-1,this.A.New(["properties",a+(this.A.brackets.level||")"!=i?i:""),!this.A.brackets.level&&")"==i]),a="",this.R.check(1)&&console.log("!! 2 - 1 - 1")):(a+=")",this.R.check(1)&&console.log("!! 2 - 1 - 2"))):"("==i?(this.A.brackets.level++,a+="(",this.R.check(1)&&console.log("!! 2 - 2")):(a+=13==i.charCodeAt(0)?"\n":i,this.R.check(1)&&console.log("!! 2 - 3")):"("==i&&(this.A.brackets.state=0,this.A.brackets.level++,e==n.length-1&&this.R.ln==this.R.lns.length&&(a+="("),this.R.check(1)&&console.log("!! 2 - 4")),this.R.check(1)&&console.log(d+', "'+a+'"',"color: white;font-weight:bolder;background:#aaa;padding:0 10px;");continue}}if("]"!=i)if(this.R.check(1)&&console.log("@ -",/^[a-zA-Z0-9-\s\n]+[\s\n]+$/.test(a)),/^[a-zA-Z0-9-]+[\s\n]+$/.test(a))/[\s\n]/.test(i)?(a+=i,this.R.check(1)&&console.log("!! 0")):"["==i?(this.A.New(["element_start",a.replace(/^\s+|\s+$/g,"")]),a="",this.R.check(1)&&console.log("!! 1")):(this.A.New(["text",a]),a=i,this.R.check(1)&&console.log("!! 3"));else if(/[a-zA-Z0-9-\s\n]/.test(i))a+=i,e==n.length-1&&(this.A.New(["text",a]),a="",this.A.New(["EOL",""]),this.R.check(1)&&console.log("!! 4"));else if("\\"==i)a.length>0&&a.endsWith("\\")?(a+=i,this.R.check(1)&&console.log("!! 5 - 1",a)):(this.A.New(["text",a]),a=i,this.R.check(1)&&console.log("!! 5 - 2",a));else if("["==i)if(this.R.tagRe.test(a)){var u=this.A.arr;if(/^\s+[a-zA-Z0-9-]+[\s\n]*$/.test(a)){var m=a.match(/^(\s+)/)[1];this.A.New(["text",m]),a=a.replace(/^\s+/,"")}this.A.New(["element_start",a.endsWith("\\")?a.replace(/\\?$|^\s+|\s+$/g,""):a.replace(/^\s+|\s+$/g,"")]),a="",this.R.check(1)&&console.log("!! 6 - 1")}else{var u=this.A.arr;if(/^\s*$/.test(a)&&(u.length>1?"properties"!=u[u.length-1][1]:1))if(u.length>1){var b,R,y,v,k="",A="";for(b=u.length-1;b>=0;b--)if(k=u[b],"EOL"!=k[1])if("properties"!=k[1]){if("text"!=k[1])break;if(!this.A.isSBracket(k[2])){if(v=!1,this.A.isSpace(k[2])&&b>0){var w,x;for(w=b-1;w>=0;w--)if(x=u[w],"EOL"!=x[1]){if("text"!=x[1])break;if(this.A.isSBracket(x[2])){v=!0;break}if(!this.A.isSpace(x[2])&&!this.R.tagRe.test(x[2]))break}}if(v)break;if(this.R.tagRe.test(k[2])){A=k[2],this.A.arr.splice(b),this.A.properties=y,this.A.New(["element_start",A.replace(/^\s+|\s+$/g,"")]),this.R.check(1)&&console.log("!! 6 - 3 - 1"),R=!0;break}}}else y=k[2];R||(this.A.New(["text","["]),this.R.check(1)&&console.log("!! 6 - 3 - 2"))}else this.A.New(["text","["]),this.R.check(1)&&console.log("!! 6 - 4");else if(u.length>1&&"properties"==u[u.length-1][1]){var b,k,A="";for(b=u.length-1;b>=0;b--)k=u[b],"text"==k[1]&&(this.R.tagRe.test(k[2])?(A=k[2],b=0):b=0);this.A.New(["element_start",""]),a="",this.R.check(1)&&console.log("!! 6 - 2 - 1")}else this.A.New(["text",a]),a="",this.A.New(["element_start",""]),this.R.check(1)&&console.log("!! 6 - 2 - 2")}else a?(this.A.New(["text",(a.endsWith("\\")?a.replace(/\\?$/,""):a)+i]),a="",this.R.check(1)&&console.log("!! 7")):a+=i;else"\\"!=a?(this.A.New(["text",a]),this.A.New(["element_end",""]),a="",this.R.check(1)&&console.log("!! 8",this.A.arr)):(this.A.New(["text",i]),a="",this.R.check(1)&&console.log("!! 9"));this.R.check(1)&&console.log(d+', "'+a+'"',"color: white;font-weight:bolder;background:#aaa;padding:0 10px;")}this.R.ln++;var $=this.A.arr;this.A.brackets.started()||($.length>1?"EOL"==$[$.length-1][1]:0)||(this.A.New(["text",a]),a="",this.A.New(["EOL",""]),this.R.check(1)&&console.log("!! 10"))}return this.R.ln--,/^[\s\n]*$/.test(a)||this.A.New(["text",a]),this.A.arr}.bind(this)},this.A={isSpace:function(e){return/^[\s\n]*$/.test(e)},tag:"",isTag:function(e){return/^\s*[a-zA-Z0-9-]+[\s\n]*$/.test(e)},isSBracket:function(e){return/^\s*\[[\s\n]*$/.test(e)},banned_tags:["style","script"],components:{menu:["div",'class="menu"'],"menu-brand":["img",'class="menu-brand"'],"menu-item":["div",'class="menu-item"']},responses:{styles:[],scripts:[]},properties:"",closedProperties:!1,pReset:function(){this.properties="",this.closedProperties=!1},propsLine:0,tag_level:0,arr:[],brackets:{started:!1,text:"",state:-1,level:0,append:function(e){this.text+=e},started:function(){return this.state>-1}},tg_level:function(e){return e.length},New:function(e){e.unshift(this.R.ln),this.A.arr.push(e),"element_start"==e[1]&&(this.A.tag_level+=1),this.A.tag_level>0&&"element_end"==e[1]&&(this.A.tag_level-=1)}.bind(this),print:function(e){return"string"==typeof e?"inner: "+e+", tag: "+this.A.tag+", properties: "+this.A.properties+", propsLine: "+this.A.propsLine:this.A.arr}.bind(this),hasNextElementWithVal:function(e,t,s,r){if(e.length<2||t>=e.length-2)return!1;var n;for(n=t+1;kk=e[n];n++)if(!("EOL"==kk[1]||"text"==kk[1]&&/^[\s\n]*$/.test(kk[2]))&&new RegExp(r).test(kk[s]))return!0;return!1},isNearElement:function(e,t,s){if(e.length<2||t>=e.length-2)return!1;var r,n;for(r=t+1;n=e[r];r++)if("EOL"!=n[1]&&(s?"properties"!=n[1]:1)){if("text"==n[1]){if(/^[^\\]*\]$/.test(n[2]))break;if(/^[\s\n]*$/.test(n[2]))continue;if(/^\s*\[$/.test(n[2]))return!0;break}if("element_start"==n[1]){if(this.isSpace(n[2]))return!0;break}if("element_end"==n[1])break}return!1},isBeforeElement:function(e,t){if(e.length<2&&2>t)return!1;var s,r;for(s=t-1;s>=0;s--)if(r=e[s],"EOL"!=r[1]&&"properties"!=r[1]){if("text"==r[1]){if(this.isTag(r[2]))return!0;if(this.isSpace(r[2]))continue;break}break}return!1},readProperties:function(e,t,s,r){if(/^[\s\n]*$/.test(e))return null;var n,i,o,l,h,a,c={},p={},g=e.split("\n");for(n=0;n<g.length;n++)if(i=g[n],!/^[\s\n]*$/.test(i)){if(!/^\s*[^:]+\s*:\s*.+\s*$/.test(i))return s("Wrong syntax. Use pattern -> property: value.",t-g.length+n+1),"err";if(l=i.split(/\s*:\s*/),a=l[1],l.length>2)for(var f=2;f<l.length;f++)a+=":"+l[f];if(h=l[0].replace(/^\s+|\s+$/,"").toLowerCase(),a=a.replace(/^\s+|\s+$/,""),!/^\!?[a-zA-Z0-9-]+$/.test(h))return s("Unsupported property syntax: "+h+".",t-g.length+n+1),"err";!h.startsWith("!")&&this.CSSprops.indexOf(h)>-1?p[h]=a:c[h.replace(/^\!/,"")]=a}if(!r)return c;var d=Object.keys(c),u=Object.keys(p),b="",k="";if(u.length>0)for(n=0;n<u.length;n++)i=u[n],o=p[i],k+=i+":"+o+(n==u.length-1?"":";");for(b+=0==k.length?"":' style="'+k+'"',n=0;n<d.length;n++)i=d[n],o=c[i],b+=" "+i+'="'+o+'"';return b}.bind(this),together:function(t){this.R.check(1)&&console.log("------------- APPENDER  -----------");var s,r=this.A.print(),n="",i=[];for(this.R.check(1)&&console.log("Elements length:",r.length),e=0;s=r[e];e++){this.R.check(1)&&console.log(e,s);var o=s[1],l=s[2];switch("text"==o&&!/(^\s*\[$|^[\s\n]*$)/.test(l)&&/^\s*[a-zA-Z0-9-]+\s*$/.test(l)||"element_start"==o&&!/^[\s\n]*$/.test(l)?this.A.tag=l:"properties"==o||/(^\s*\[$|^[\s\n]*$)/.test(l)||(this.A.tag=""),"properties"==o?(this.A.properties=l,this.A.closedProperties=s[3],this.A.propsLine=s[0]):"text"!=o||/[^\[]*\[$/.test(l)||/[\s\n]*/.test(l)||this.A.pReset(),o){case"element_start":var h=this.A.tag,a=h.replace(/^\s+|\s+$/,""),c=RegExp("("+h+")((<br>|\\s|\\n)*)$"),p=this.A.components,g="",f=this.A.properties;if((i.length>0?RegExp("<"+i[i.length-1]+"\\s*(\\s*[a-zA-Z0-9-]+\\s*=\\s*(\"[^\"]*\"|'[^']*'))*$").test(n):!1)&&(n+=">"),this.A.banned_tags.indexOf(a)>-1)return void t("Unsupported element: "+a+".",s[0]);if(this.A.components.hasOwnProperty(a)&&(g=" "+p[a][1],a=p[a][0]),/^[\s\n]*$/.test(l)||f||i.push(a),this.R.check(1)&&console.log(this.A.tg_level(i),this.A.tag.length,n,n.endsWith(">")),!h)break;if(!this.A.isTag(a)){n+=c.test(n)?"":h+"[",this.A.tag="",this.A.pReset();break}if(e>0&&"element_start"==r[e-1][1]&&/^\s*$/.test(r[e-1][2])&&(n+="["),f){var d=n.replace(c,"");n=d,this.R.check(1)&&console.log("Replaced last inner: '"+n+"', '"+h+"',"+c+", '"+d+"'"),n+="<"+a+g,i.push(a),this.R.check(1)&&console.log("%cFound properties: '"+f+"'","color: white;font-weight:bolder;background:#5a5;padding:0 10px;");var u=this.A.readProperties(f,this.A.propsLine,t,!0);if("err"==u)return;this.R.check(1)&&console.log(u),n+=null==u?"":u,this.A.pReset(),this.R.check(1)&&console.log(this.A.print(n));continue}0==l.length?RegExp("<"+i[i.length-1]+"\\s*(\\s*[a-zA-Z0-9-]+\\s*=\\s*(\"[^\"]*\"|'[^']*'))*>$").test(n)||(n+="<"+a+g,i.push(a)):n+="<"+a+g,this.A.tag=a;break;case"properties":if(e<r.length-1){var b,k;for(b=e+1;b<r.length;b++)if(k=r[b],!("EOL"==k[1]||"text"==k[1]&&/^\s*$/.test(k[2]))){if("properties"==k[1]){var A=s[3],m=!1,R=Micro.read(l,!1,!1,function(e,t){t=t||"unknown",m="Error at line "+t+": "+e});if(n+="("+R+(A?")":""),m)return m;break}break}}break;case"text":var y=/(^\s*\[$|^[\s\n]*$)/,v=this.A.isNearElement(r,e,!0);if(l=l.replace(/[<>]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;"}}),e>1&&(this.A.properties||(e>0?"properties"==r[e-1][1]:!1))){var f=this.A.properties;if(this.A.isNearElement(r,e)&&/^(<br>|\s|\n)*$/.test(l)){this.R.check(1)&&console.log(this.A.print(n));continue}var m=!1,R=Micro.read(f+(f.split("\n").length>1?String.fromCharCode(13):""),!1,!1,function(e,t){t=t||"unknown",m="Error at line "+t+": "+e}),w="("+R+(this.A.closedProperties?")":"");if(m)return m;this.R.check(1)&&console.log(R.length,R,f,i,e,this.R.properties),n+=w,this.A.pReset()}else!this.A.isBeforeElement(r,e)&&(e>0&&i.length>0?"element_start"==r[e-1][1]||"text"==r[e-1][1]&&/^\s*\[[\s\n]*$/.test(r[e-1][2]):!0)&&((i.length>0?RegExp("<"+i[i.length-1]+"\\s*(\\s*[a-zA-Z0-9-]+\\s*=\\s*(\"[^\"]*\"|'[^']*'))*$").test(n):!1)?(n+=">"+(/^\s*\[[\s\n]*$/.test(l)?"[":""),this.A.tag="",this.A.pReset(),this.R.check(1)&&console.log("!!! 1 - 1")):(/^\s*\[[\s\n]*$/.test(l)||(e>0?"element_start"==r[e-1][1]&&/^\s*$/.test(r[e-1][2]):!1))&&(n+="[",this.A.tag="",this.A.pReset(),this.R.check(1)&&console.log("!!! 1 - 2"),this.R.check(1)&&console.log(this.A.print(n))));this.R.check(1)&&console.log("isFullEl:",v),e<r.length-1&&!l.endsWith("\\")&&"]"!=r[e+1][2]&&r.length>1?(n+=v&&this.R.tagRe.test(l)?"":i.length>0?!RegExp("<"+i[i.length-1]+"\\s*(\\s*[a-zA-Z0-9-]+\\s*=\\s*(\"[^\"]*\"|'[^']*'))*>$").test(n)&&y.test(l)?"":l:e>0?/^\s*\[[\s\n]*$/.test(l)?"element_start"==r[e-1][1]?l:"":l:/^\s*\[[\s\n]*$/.test(l)?"":l,this.R.check(1)&&console.log("!!! 2")):(n+=/\\+/.test(l)?l:l.replace(/\\+$/,""),this.R.check(1)&&console.log("!!! 3"));break;case"EOL":var x=this.A.isNearElement(r,e);if(x&&this.A.tag)break;(e>0?"element_start"==r[e-1][1]||"element_end"==r[e-1][1]:0)||(e>1&&i.length>0?"element_end"!=r[e-2][1]&&"element_start"!=r[e-2][1]?x:1:0)||e==r.length-1||(n+="<br>"),this.R.check(1)&&console.log(e,e>0&&"element_start"!=r[e-1][1],e>1?"element_end"!=r[e-2][1]:!0,x);break;case"element_end":if(0==i.length)return void t("There's an unwanted closing parenthesis in your .mi file.",this.R.ln);n+="</"+i[i.length-1]+">",i.pop(),this.A.tag=""}this.R.check(1)&&console.log(this.A.print(n))}return n}.bind(this)}};this.read=function(e,t,s,r){var n=(new Date).getTime(),i=!1;r||(r=function(e,t){t=t||"unknown",i="Error at line "+t+": "+e});var o=new Core,l=o.R.read(e,r,this.version);if(s)return l;var h=o.A.together(r),a=(new Date).getTime(),c=i?i:h;return t?[a-n,c,o.A.responses]:c},this.render=function(r,el,el2){if(r){el||(el=this.e);var inn=this.read(r,!0),responses=inn[2],k,kk,l,ll,innerMatch=el.innerHTML.match(/[\s\S]+(?=(<style\s*(?:\s*[a-zA-Z0-9-]+\s*=\s*(?:\"[^\"]*\"|'[^']*'))*>[\s\S]+<\/style>.*|<script\s*(?:\s*[a-zA-Z0-9-]+\s*=\s*(?:\"[^\"]*\"|'[^']*'))*>[\s\S]+<\/script>.*))/),dd;if(el2&&(el2.innerHTML=inn[0]+"ms"),null!=innerMatch){dd=document.createElement("div"),dd.innerHTML=innerMatch[1];var styles=dd.querySelectorAll("style"),ddInner="";if(responses&&responses.styles.length>0)for(l=0;l<styles.length;l++)styles[l].hasAttribute("id")&&responses.styles.indexOf(styles[l].id)>-1&&(ddInner+=styles[l].outerHTML);dd.innerHTML=ddInner}if(el.innerHTML=inn[1],dd)return void(el.innerHTML+=dd.innerHTML);if(responses){if(responses.styles.length>0)for(k=0;kk=responses.styles[k];k++)getResponse(kk,function(e,t){el.innerHTML+='<style id="'+t+'">'+e+"</style>"},function(e){el.innerHTML=e},!0);if(responses.scripts.length>0)for(k=0;kk=responses.scripts[k];k++)getResponse(kk,function(r){eval(r)},function(e){el.innerHTML=e},!0)}}},"undefined"!=typeof this.e&&getResponse(this.e.getAttribute("m-enable")+".mi",function(e){this.render(e)}.bind(this),function(e){this.e.innerHTML=e}.bind(this),!0)};